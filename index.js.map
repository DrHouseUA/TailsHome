{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/helpers/swiper.js","../src/js/helpers/accardion.js","../src/js/markup-comment.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst categoryContainer = document.querySelector('.category-nav');\nconst showMoreBtn = document.querySelector('.showmore-btn');\n\nconst api = axios.create({\n  baseURL: 'https://paw-hut.b.goit.study/',\n  timeout: 5000,\n  headers: { accept: 'application/json' },\n});\n\nlet allPets = [];\nlet currentCategory = 'Всі';\nlet currentPage = 1;\n\nfunction getLimit() {\n  return window.innerWidth >= 1440 ? 9 : 8;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction renderCards(pets) {\n  pets.forEach(pet => {\n    const card = document.createElement('article');\n    card.classList.add('pet-card');\n    card.innerHTML = `\n      <div class=\"card-img-wrapper\">\n        <img class=\"pet-card-image\" src=\"${pet.image}\" alt=\"Фото ${pet.name}, ${pet.age}, ${pet.gender}\" />\n      </div>\n      <div class=\"pet-card-info\">\n        <span class=\"pet-card-type\">${pet.species}</span>\n        <h3 class=\"pet-card-name\">${pet.name}</h3>\n        <span class=\"pet-category\">${pet.categories[0].name}</span>\n        <div class=\"pet-card-meta\">\n          <p class=\"pet-card-age\">${pet.age}</p>\n          <p class=\"pet-card-gender\">${pet.gender}</p>\n        </div>\n      </div>\n      <p class=\"pet-card-desc\">${pet.shortDescription}</p>\n    `;\n    gallery.appendChild(card);\n  });\n}\n\nfunction renderFilteredCards() {\n  const limit = getLimit();\n\n  const filtered =\n    currentCategory === 'Всі'\n      ? allPets\n      : allPets.filter(pet =>\n          pet.categories.some(cat => cat.name === currentCategory)\n        );\n\n  const totalPages = Math.ceil(filtered.length / limit);\n  const startIndex = (currentPage - 1) * limit;\n  const endIndex = startIndex + limit;\n  const petsToRender = filtered.slice(startIndex, endIndex);\n\n  renderCards(petsToRender);\n\n  showMoreBtn.style.display = currentPage >= totalPages ? 'none' : 'block';\n}\n\nasync function fetchPets() {\n  try {\n    const response = await api.get('api/animals');\n    allPets = response.data.animals || [];\n    renderFilteredCards();\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити тваринок. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n    console.error('Axios error:', error);\n  }\n}\n\nasync function fetchCategories() {\n  try {\n    const response = await api.get('api/categories');\n    const categories = response.data || [];\n    renderCategoryButtons(['Всі', ...categories.map(c => c.name)]);\n  } catch (error) {\n    console.error('Помилка завантаження категорій:', error);\n  }\n}\n\nfunction renderCategoryButtons(names) {\n  categoryContainer.innerHTML = '';\n  names.forEach(name => {\n    const btn = document.createElement('button');\n    btn.classList.add('category-item');\n    btn.textContent = name;\n    btn.dataset.category = name;\n    if (name === 'Всі') btn.classList.add('active');\n\n    btn.addEventListener('click', () => {\n      document\n        .querySelectorAll('.category-item')\n        .forEach(b => b.classList.remove('active'));\n      btn.classList.add('active');\n\n      currentCategory = name;\n      currentPage = 1;\n      clearGallery();\n      renderFilteredCards();\n    });\n\n    categoryContainer.appendChild(btn);\n  });\n}\n\nshowMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  renderFilteredCards();\n});\n\n// Старт\nfetchCategories();\nfetchPets();\n","// import Swiper bundle with all modules installed\nimport Swiper from 'swiper/bundle';\n\n// import styles bundle\nimport 'swiper/css/bundle';\n\n// init Swiper:\nconst swiper = new Swiper('.swiper-about', {\n  // configure Swiper to use modules\n\n  navigation: {\n    nextEl: '.swiper-about-button-next',\n    prevEl: '.swiper-about-button-prev',\n  },\n  pagination: {\n    el: '.swiper-about-pagination',\n    type: 'bullets',\n    clickable: true,\n  },\n});\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst openAccordion = element => {\n  element.classList.add('open');\n  element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: false,\n    collapse: true,\n    ariaEnabled: true,\n  });\n});\n\ndocument.addEventListener('click', e => {\n  const trigger = e.target.closest('.ac-trigger');\n  if (trigger) {\n    setTimeout(() => {\n      if (window.innerWidth < 768) {\n        trigger.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }, 450);\n  }\n});\n","import axios from 'axios';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nexport function getAPI() {\n  axios.defaults.baseURL = 'https://paw-hut.b.goit.study/';\n\n  return axios\n    .get('/api/feedbacks')\n    .then(response => {\n      console.log(response.data.feedbacks);\n      return response.data.feedbacks;\n    })\n    .catch(error => {\n      console.error('Ошибка при получении данных:', error);\n      throw error;\n    });\n}\n\nexport function markupComment(data) {\n  const container = document.querySelector('.stories-swiper .swiper-wrapper');\n  const markup = data\n    .map(res => {\n      return `\n        <div class=\"swiper-slide swiper-comment-slide\">\n          <p class=\"description-comment\">${res.description}</p>\n          <p class='author-comment'>${res.author}</p>\n        </div>\n      `;\n    })\n    .join('');\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\ngetAPI().then(data => {\n  markupComment(data);\n\n  new Swiper('.stories-swiper', {\n    loop: false,\n    slidesPerView: 1,\n\n    navigation: {\n      nextEl: '.stories-next',\n      prevEl: '.stories-prev',\n    },\n    pagination: {\n      el: '.stories-pagination',\n      clickable: true,\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      },\n    },\n  });\n});\n"],"names":["gallery","categoryContainer","showMoreBtn","api","axios","allPets","currentCategory","currentPage","getLimit","clearGallery","renderCards","pets","pet","card","renderFilteredCards","limit","filtered","cat","totalPages","startIndex","endIndex","petsToRender","fetchPets","error","iziToast","fetchCategories","categories","renderCategoryButtons","c","names","name","btn","b","Swiper","Accordion","e","trigger","getAPI","response","markupComment","data","container","markup","res"],"mappings":"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"}