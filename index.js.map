{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/helpers/swiper.js","../src/js/helpers/accardion.js","../src/js/markup-comment.js"],"sourcesContent":["// import axios from 'axios';\n// const axios = require('axios');\n\n// const BASE_URL = 'https://paw-hut.b.goit.study/';\n// const ENDPOINTS = {\n//   animalList: 'api/animals',\n//   category: 'api/categories',\n// };\n\n// const instance = axios.create({\n//   baseURL: BASE_URL,\n//   timeout: 1000,\n// });\n\n// // Works just like axios(config)\n// instance({\n//   url: ENDPOINTS.animalList,\n//   method: 'get',\n// });\n\n// instance.get('/longRequest', {\n//   timeout: 5000,\n// });\n\n// async function getAnimalList() {\n//   try {\n//     const response = await axios.get('/user?ID=12345');\n//     console.log(response);\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst categoryButtons = document.querySelectorAll('.category-item');\n\nconst showMoreBtnEL = document.querySelector('.showmore-btn');\n\nlet allPets = [];\n\n// Axios конфігурація з правильним baseURL\nconst api = axios.create({\n  baseURL: 'https://paw-hut.b.goit.study/',\n  timeout: 5000,\n  headers: {\n    accept: 'application/json',\n  },\n});\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\n// Рендер карток\nfunction renderCards(category) {\n  const filtered =\n    category === 'Всі'\n      ? allPets\n      : allPets.filter(pet => pet.categories[0].name === category);\n\n  if (filtered.length === 0) {\n    gallery.innerHTML = '<p>Немає тваринок у цій категорії</p>';\n    return;\n  }\n\n  filtered.forEach(pet => {\n    const card = document.createElement('div');\n    card.classList.add('pet-card');\n\n    card.innerHTML = `\n      <div class=\"card-img-wrapper\">\n       <img class=\"pet-card-image\" src=\"${pet.image}\" alt=\"${pet.name}\" />\n      </div>\n      <div class=\"pet-card-info\">\n        <span class=\"pet-card-type\">${pet.species}</span>\n        <h3 class=\"pet-card-name\">${pet.name}</h3>\n        <span class=\"pet-category\">${pet.categories[0].name}</span>\n        <div class=\"pet-card-meta\">\n        <p class=\"pet-card-age\">${pet.age}</p>\n        <p class=\"pet-card-gender\">${pet.gender}</p>\n        </div>\n        \n      </div>\n        <p class=\"pet-card-desc\">${pet.shortDescription}</p>\n        <button class=\"pet-card-btn\">Дізнатись більше</button>\n    `;\n    gallery.appendChild(card);\n  });\n}\n\n// Завантаження з API\nconst screenWidth = window.innerWidth;\nconst limit = screenWidth >= 1440 ? 9 : 8;\n\nlet currentPage = 1;\n\nasync function fetchPets(page = 1) {\n  try {\n    const screenWidth = window.innerWidth;\n    const limit = screenWidth >= 1440 ? 9 : 8;\n\n    const response = await api.get(`api/animals?page=${page}&limit=${limit}`);\n    console.log('API response:', response.data);\n\n    const newPets = Array.isArray(response.data)\n      ? response.data\n      : response.data.animals || [];\n\n    allPets = [...newPets];\n\n    renderCards('Всі');\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити тваринок. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 5000,\n    });\n    console.error('Axios error:', error);\n  }\n}\n\n// Обробка кліків по категоріях\ncategoryButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    categoryButtons.forEach(btn => btn.classList.remove('active'));\n    button.classList.add('active');\n    clearGallery();\n    renderCards(button.dataset.category);\n    console.log(button.dataset.category);\n  });\n});\n\n// Кнопка завантаження картинок\n\nshowMoreBtnEL.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  currentPage += 1;\n  fetchPets(currentPage);\n}\n\n// Старт\nfetchPets(currentPage);\n","// import Swiper bundle with all modules installed\nimport Swiper from 'swiper/bundle';\n\n// import styles bundle\nimport 'swiper/css/bundle';\n\n// init Swiper:\nconst swiper = new Swiper('.swiper-about', {\n  // configure Swiper to use modules\n\n  navigation: {\n    nextEl: '.swiper-about-button-next',\n    prevEl: '.swiper-about-button-prev',\n  },\n  pagination: {\n    el: '.swiper-about-pagination',\n    type: 'bullets',\n    clickable: true,\n  },\n});\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst openAccordion = element => {\n  element.classList.add('open');\n  element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: false,\n    collapse: true,\n    ariaEnabled: true,\n  });\n});\n\ndocument.addEventListener('click', e => {\n  const trigger = e.target.closest('.ac-trigger');\n  if (trigger) {\n    setTimeout(() => {\n      if (window.innerWidth < 768) {\n        trigger.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }, 450);\n  }\n});\n","import axios from 'axios';\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nexport function getAPI() {\n  axios.defaults.baseURL = 'https://paw-hut.b.goit.study/';\n\n  return axios\n    .get('/api/feedbacks')\n    .then(response => {\n      console.log(response.data.feedbacks);\n      return response.data.feedbacks;\n    })\n    .catch(error => {\n      console.error('Ошибка при получении данных:', error);\n      throw error;\n    });\n}\n\nexport function markupComment(data) {\n  const container = document.querySelector('.stories-swiper .swiper-wrapper');\n  const markup = data\n    .map(res => {\n      return `\n        <div class=\"swiper-slide swiper-comment-slide\">\n          <p class=\"description-comment\">${res.description}</p>\n          <p class='author-comment'>${res.author}</p>\n        </div>\n      `;\n    })\n    .join('');\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\ngetAPI().then(data => {\n  markupComment(data);\n\n  new Swiper('.stories-swiper', {\n    loop: false,\n    slidesPerView: 1,\n\n    navigation: {\n      nextEl: '.stories-next',\n      prevEl: '.stories-prev',\n    },\n    pagination: {\n      el: '.stories-pagination',\n      clickable: true,\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      },\n    },\n  });\n});\n"],"names":["gallery","categoryButtons","showMoreBtnEL","allPets","api","axios","clearGallery","renderCards","category","filtered","pet","card","currentPage","fetchPets","page","limit","response","error","iziToast","button","btn","onClick","event","Swiper","Accordion","trigger","getAPI","markupComment","data","container","markup","res"],"mappings":"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"}